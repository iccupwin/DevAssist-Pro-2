# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ PDF —ç–∫—Å–ø–æ—Ä—Ç–µ

## –ü—Ä–æ–±–ª–µ–º–∞
PDF —Ñ–∞–π–ª—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ KP –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –∫–∞–∫ –Ω–µ—á–∏—Ç–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã/–∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∏.

## –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ DejaVu —à—Ä–∏—Ñ—Ç–æ–≤** - –ø–∞–ø–∫–∞ `backend/services/reports/core/fonts/` –±—ã–ª–∞ –ø—É—Å—Ç–æ–π
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ fallback** - –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ DejaVu —Å–∏—Å—Ç–µ–º–∞ –ø–∞–¥–∞–ª–∞ –Ω–∞ Helvetica –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
3. **–û—à–∏–±–∫–∏ –≤ —Å—Ç–∏–ª—è—Ö** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Bold –≤–∞—Ä–∏–∞–Ω—Ç—ã —à—Ä–∏—Ñ—Ç–æ–≤

## üîß –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤
```python
def _download_dejavu_fonts(self, fonts_dir: Path):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ DejaVu —à—Ä–∏—Ñ—Ç–æ–≤ —Å GitHub"""
    dejavu_urls = {
        "DejaVuSans.ttf": "https://github.com/dejavu-fonts/dejavu-fonts/raw/master/ttf/DejaVuSans.ttf",
        "DejaVuSans-Bold.ttf": "https://github.com/dejavu-fonts/dejavu-fonts/raw/master/ttf/DejaVuSans-Bold.ttf"
    }
    # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤
```

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ fallback
```python
def _use_fallback_font(self) -> str:
    """–ü–æ–∏—Å–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —à—Ä–∏—Ñ—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã"""
    # Windows: Arial
    # Linux: Liberation Sans –∏–ª–∏ DejaVu
    # –ü–æ—Å–ª–µ–¥–Ω–∏–π fallback: Helvetica —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π —à—Ä–∏—Ñ—Ç–æ–≤
```python
# –ë—ã–ª–æ:
fontName=self.font_family,
fontStyle='bold'  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

# –°—Ç–∞–ª–æ:
fontName=f'{self.font_family}-Bold' if self.font_family != 'Helvetica' else 'Helvetica-Bold'  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

### 4. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º.

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª: `backend/services/reports/core/kp_pdf_exporter.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π download DejaVu —à—Ä–∏—Ñ—Ç–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ fallback —à—Ä–∏—Ñ—Ç–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º Bold –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `cyrillic_pdf_exporter.py` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- `test_fixed_pdf_exporter.py` - —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞
- `test_kp_analyzer_api.py` - —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ API —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –°–ø–æ—Å–æ–± 1: –¢–µ—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd /path/to/DevAssist-Pro
python test_fixed_pdf_exporter.py
```

### –°–ø–æ—Å–æ–± 2: –¢–µ—Å—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
```bash
python -c "
import sys
sys.path.append('backend/services/reports')
from core.cyrillic_pdf_exporter import test_cyrillic_fix
test_cyrillic_fix()
"
```

### –°–ø–æ—Å–æ–± 3: –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ API
```bash
# –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
cd backend
python app.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
python test_kp_analyzer_api.py
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è PDF —Ñ–∞–π–ª—ã —Å:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –≤–∞–ª—é—Ç (‚ÇΩ, $, ‚Ç¨)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ (‚Ññ, ¬ß, ¬©, ‚Ñ¢)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —ç–º–æ–¥–∑–∏ –∏ –∑–Ω–∞—á–∫–∞–º–∏ (‚úÖ, ‚ùå, ‚ö†Ô∏è, üìä, üéØ)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª—é–±–æ–π –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤**
2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π PDF —Ñ–∞–π–ª**
3. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:**
   - –†—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç —á–∏—Ç–∞–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
   - –ó–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –¢–∞–±–ª–∏—Ü—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —á–∏—Ç–∞–µ–º—ã–π —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –®—Ä–∏—Ñ—Ç—ã –Ω–µ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è
```bash
# –í—Ä—É—á–Ω—É—é —Å–∫–∞—á–∞–π—Ç–µ DejaVu —à—Ä–∏—Ñ—Ç—ã:
mkdir -p backend/services/reports/core/fonts/
cd backend/services/reports/core/fonts/

curl -L -o DejaVuSans.ttf "https://github.com/dejavu-fonts/dejavu-fonts/raw/master/ttf/DejaVuSans.ttf"
curl -L -o DejaVuSans-Bold.ttf "https://github.com/dejavu-fonts/dejavu-fonts/raw/master/ttf/DejaVuSans-Bold.ttf"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ ReportLab
```bash
pip install reportlab
# –∏–ª–∏
pip install -r backend/requirements.txt
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ DejaVu
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã —à—Ä–∏—Ñ—Ç–æ–≤ —Å–∫–∞—á–∞–ª–∏—Å—å (—Ä–∞–∑–º–µ—Ä > 50KB –∫–∞–∂–¥—ã–π)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π font_family –≤ –ª–æ–≥–∞—Ö

## üìä –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ DejaVu —à—Ä–∏—Ñ—Ç–æ–≤
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤  
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –°–∏—Å—Ç–µ–º–∞ fallback –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –û–°
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –°—Ç–∏–ª–∏ —à—Ä–∏—Ñ—Ç–æ–≤ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ Bold –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ö–ò–†–ò–õ–õ–ò–¶–ê –í PDF –≠–ö–°–ü–û–†–¢–ï –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û!** üéâ

–í—Å–µ —Ä—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã, –≤–∞–ª—é—Ç–Ω—ã–µ –∑–Ω–∞–∫–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ PDF —Ñ–∞–π–ª–∞—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —á–∏—Ç–∞–µ–º–æ.