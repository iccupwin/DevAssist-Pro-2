/*! For license information please see 295.11ea308d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdevassist_pro_frontend=self.webpackChunkdevassist_pro_frontend||[]).push([[295],{1850:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},4215:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5391:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6890:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7295:(e,s,t)=>{t.r(s),t.d(s,{AdminDashboard:()=>A,default:()=>k});var a=t(9950),l=t(8215),i=t(6890),c=t(5391),r=t(5492),n=t(9502),d=t(9842),o=t(1900),x=t(6987),m=t(9975),h=t(8406),g=t(4215);const u=(0,t(9655).A)("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);var v=t(1946),y=t(7737),j=t(1850),p=t(7838),b=t(4885),N=t(8299),f=t(4414);const w={users:{total:0,change24h:0,active:0,premium:0,banned:0},api:{calls:0,change1h:0,successRate:0,avgResponseTime:0},ai:{costs:0,change24h:0,tokenUsage:0,providerStatus:{}},analyses:{total:0,change24h:0,successful:0,failed:0},errors:{count:0,change24h:0,critical:0,warnings:0},uptime:{percentage:0,days:0,lastDowntime:null}},A=e=>{var s,t,A,k,$,S,L,M,C,D,U,q,R,F,E,H,I,T;let{className:_=""}=e;const[P,O]=(0,a.useState)(w),[V,Z]=(0,a.useState)([]),[z,B]=(0,a.useState)(!1),[G,J]=(0,a.useState)(!0),[K,Q]=(0,a.useState)(null);(0,a.useEffect)(()=>{W()},[]);const W=async()=>{try{Q(null);const[e,s]=await Promise.all([N.Z.getSystemMetrics(),N.Z.getSystemAlerts()]),t=e.data,a=s.data;O(t),Z(a)}catch(K){Q(K instanceof Error?K.message:"Failed to load data"),O(w),Z([])}finally{J(!1)}},X=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return void 0===e||null===e?"0":s>0?e.toFixed(s):e.toLocaleString()},Y=e=>{let{title:s,value:t,change:r,changeLabel:n,icon:d,color:o,subtitle:x}=e;const m=void 0!==r?(e=>0===e?{icon:l.A,color:"text-gray-400",text:"0"}:e>0?{icon:i.A,color:"text-green-500",text:`+${e}`}:{icon:c.A,color:"text-red-500",text:`${e}`})(r):null;return(0,f.jsx)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 hover:border-gray-600 transition-colors",children:(0,f.jsx)("div",{className:"flex items-start justify-between",children:(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,f.jsx)("div",{className:`p-2 rounded-lg ${o}`,children:(0,f.jsx)(d,{className:"h-5 w-5 text-white"})}),(0,f.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:s})]}),(0,f.jsxs)("div",{className:"mb-2",children:[(0,f.jsx)("p",{className:"text-2xl font-bold text-white",children:t}),x&&(0,f.jsx)("p",{className:"text-sm text-gray-500",children:x})]}),m&&(0,f.jsxs)("div",{className:`flex items-center space-x-1 ${m.color}`,children:[a.createElement(m.icon,{className:"h-4 w-4"}),(0,f.jsx)("span",{className:"text-sm font-medium",children:m.text}),n&&(0,f.jsx)("span",{className:"text-sm text-gray-500",children:n})]})]})})})},ee=e=>{let{alert:s}=e;const t={low:r.A,medium:n.A,high:d.A,critical:o.A}[s.severity],a=Math.floor((Date.now()-new Date(s.timestamp).getTime())/6e4);return(0,f.jsx)("div",{className:`p-4 border-l-4 ${s.acknowledged?"bg-gray-800/50 border-gray-600":"bg-gray-800 border-"+s.severity==="critical"?"red":"high"===s.severity?"orange":"medium"===s.severity?"yellow":"blue"}-500`,children:(0,f.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,f.jsx)("div",{className:`p-1 rounded-full ${{low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"}[s.severity]}`,children:(0,f.jsx)(t,{className:"h-4 w-4 text-white"})}),(0,f.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("h4",{className:"text-sm font-medium "+(s.acknowledged?"text-gray-400":"text-white"),children:s.title}),(0,f.jsxs)("span",{className:"text-xs text-gray-500",children:[a,"m ago"]})]}),(0,f.jsx)("p",{className:"text-sm mt-1 "+(s.acknowledged?"text-gray-500":"text-gray-300"),children:s.message}),!s.acknowledged&&(0,f.jsx)("button",{onClick:()=>{return e=s.id,void Z(s=>s.map(s=>s.id===e?{...s,acknowledged:!0,acknowledgedAt:(new Date).toISOString()}:s));var e},className:"text-xs text-blue-400 hover:text-blue-300 mt-2",children:"Acknowledge"})]})]})})};return G?(0,f.jsx)("div",{className:`space-y-6 ${_}`,children:(0,f.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(x.A,{className:"h-8 w-8 text-blue-500 animate-spin mx-auto mb-4"}),(0,f.jsx)("p",{className:"text-gray-400",children:"Loading real admin data..."})]})})}):(0,f.jsxs)("div",{className:`space-y-6 ${_}`,children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{className:"text-2xl font-bold text-white",children:"System Overview"}),(0,f.jsx)("p",{className:"text-gray-400",children:"Real-time system metrics from database"})]}),(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[K&&(0,f.jsxs)("div",{className:"text-red-400 text-sm",children:[(0,f.jsx)(d.A,{className:"h-4 w-4 inline mr-1"}),K]}),(0,f.jsxs)(b.$,{onClick:async()=>{B(!0);try{await W()}catch(K){}finally{B(!1)}},disabled:z,className:"flex items-center space-x-2",variant:"outline",children:[(0,f.jsx)(x.A,{className:"h-4 w-4 "+(z?"animate-spin":"")}),(0,f.jsx)("span",{children:"Refresh"})]})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,f.jsx)(Y,{title:"Users",value:X(null===(s=P.users)||void 0===s?void 0:s.total),change:null===(t=P.users)||void 0===t?void 0:t.change24h,changeLabel:"24h",icon:m.A,color:"bg-blue-600",subtitle:`${X(null===(A=P.users)||void 0===A?void 0:A.active)} active`}),(0,f.jsx)(Y,{title:"API Calls",value:X(null===(k=P.api)||void 0===k?void 0:k.calls),change:null===($=P.api)||void 0===$?void 0:$.change1h,changeLabel:"1h",icon:h.A,color:"bg-green-600",subtitle:`${X(null===(S=P.api)||void 0===S?void 0:S.successRate,1)}% success rate`}),(0,f.jsx)(Y,{title:"AI Costs",value:(ae=null===(L=P.ai)||void 0===L?void 0:L.costs,void 0===ae||null===ae?"$0.00":`$${ae.toFixed(2)}`),change:null===(M=P.ai)||void 0===M?void 0:M.change24h,changeLabel:"24h",icon:g.A,color:"bg-purple-600",subtitle:`${X(((null===(C=P.ai)||void 0===C?void 0:C.tokenUsage)||0)/1e6,1)}M tokens`}),(0,f.jsx)(Y,{title:"Analyses",value:X(null===(D=P.analyses)||void 0===D?void 0:D.total),change:null===(U=P.analyses)||void 0===U?void 0:U.change24h,changeLabel:"24h",icon:u,color:"bg-indigo-600",subtitle:(se=null===(q=P.analyses)||void 0===q?void 0:q.successful,te=null===(R=P.analyses)||void 0===R?void 0:R.total,se&&te&&0!==te?`${(se/te*100).toFixed(1)}%`:"0%")+" success"}),(0,f.jsx)(Y,{title:"Errors",value:X(null===(F=P.errors)||void 0===F?void 0:F.count),change:null===(E=P.errors)||void 0===E?void 0:E.change24h,changeLabel:"24h",icon:d.A,color:"bg-red-600",subtitle:`${X(null===(H=P.errors)||void 0===H?void 0:H.critical)} critical`}),(0,f.jsx)(Y,{title:"Uptime",value:`${X(null===(I=P.uptime)||void 0===I?void 0:I.percentage,1)}%`,icon:v.A,color:"bg-green-600",subtitle:`${X(null===(T=P.uptime)||void 0===T?void 0:T.days)} days`})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,f.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-white",children:"API Usage"}),(0,f.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,f.jsx)(y.A,{className:"h-4 w-4"}),(0,f.jsx)("span",{children:"Last 24 hours"})]})]}),(0,f.jsx)("div",{className:"h-48 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(h.A,{className:"h-12 w-12 text-gray-600 mx-auto mb-2"}),(0,f.jsx)("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]}),(0,f.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-white",children:"User Activity"}),(0,f.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,f.jsx)(m.A,{className:"h-4 w-4"}),(0,f.jsx)("span",{children:"Last 7 days"})]})]}),(0,f.jsx)("div",{className:"h-48 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(m.A,{className:"h-12 w-12 text-gray-600 mx-auto mb-2"}),(0,f.jsx)("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]})]}),(0,f.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg",children:[(0,f.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsx)(j.A,{className:"h-5 w-5 text-yellow-500"}),(0,f.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Alerts"})]}),(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsxs)("span",{className:"text-sm text-gray-400",children:[V.filter(e=>!e.acknowledged).length," unacknowledged"]}),(0,f.jsxs)(b.$,{size:"sm",variant:"outline",children:[(0,f.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"View All"]})]})]})}),(0,f.jsx)("div",{className:"divide-y divide-gray-700",children:V.length>0?V.map(e=>(0,f.jsx)(ee,{alert:e},e.id)):(0,f.jsxs)("div",{className:"p-8 text-center",children:[(0,f.jsx)(r.A,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),(0,f.jsx)("p",{className:"text-gray-400",children:"No recent alerts"})]})})]})]});var se,te,ae},k=A},7737:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8215:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(9655).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])}}]);