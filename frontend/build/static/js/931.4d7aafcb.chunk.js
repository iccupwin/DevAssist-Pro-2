/*! For license information please see 931.4d7aafcb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdevassist_pro_frontend=self.webpackChunkdevassist_pro_frontend||[]).push([[931],{101:(e,s,a)=>{a.r(s),a.d(s,{UserManagement:()=>S,default:()=>C});var t=a(9950),l=a(5536),i=a(1064),r=a(9975),n=a(7255),c=a(2607),d=a(3147),o=a(9655);const m=(0,o.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),x=(0,o.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var h=a(8406),u=a(4215),g=a(7838);const p=(0,o.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),j=(0,o.A)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var y=a(5492),v=a(8108),b=a(983),f=a(4885),N=a(8249),w=a(8299),A=a(4414);const k=[{id:1,email:"john.doe@example.com",full_name:"\u0418\u0432\u0430\u043d \u041f\u0435\u0442\u0440\u043e\u0432",firstName:"\u0418\u0432\u0430\u043d",lastName:"\u041f\u0435\u0442\u0440\u043e\u0432",role:"admin",avatar:"",isEmailVerified:!0,is2FAEnabled:!0,is_active:!0,is_verified:!0,is_superuser:!0,lastActivity:new Date(Date.now()-18e5).toISOString(),apiCallsCount:1234,analysesCount:89,totalCosts:45.67,registrationSource:"website",subscription:{plan:"Professional",status:"active",expiresAt:new Date(Date.now()+2592e6).toISOString(),autoRenew:!0},preferences:{language:"ru",theme:"dark",notifications:{email:!0,push:!0}},created_at:"2024-01-15T00:00:00Z",updated_at:(new Date).toISOString(),lastLoginAt:new Date(Date.now()-18e5).toISOString()},{id:2,email:"jane.smith@example.com",full_name:"\u0410\u043d\u043d\u0430 \u041a\u043e\u0437\u043b\u043e\u0432\u0430",firstName:"\u0410\u043d\u043d\u0430",lastName:"\u041a\u043e\u0437\u043b\u043e\u0432\u0430",role:"user",avatar:"",isEmailVerified:!0,is2FAEnabled:!1,is_active:!0,is_verified:!0,is_superuser:!1,lastActivity:new Date(Date.now()-72e5).toISOString(),apiCallsCount:456,analysesCount:23,totalCosts:12.34,registrationSource:"google",subscription:{plan:"Premium",status:"active",expiresAt:new Date(Date.now()+1296e6).toISOString(),autoRenew:!1},preferences:{language:"ru",theme:"light",notifications:{email:!0,push:!1}},created_at:"2024-02-10T00:00:00Z",updated_at:(new Date).toISOString(),lastLoginAt:new Date(Date.now()-72e5).toISOString()},{id:3,email:"mike.johnson@example.com",full_name:"\u041c\u0438\u0445\u0430\u0438\u043b \u0421\u0438\u0434\u043e\u0440\u043e\u0432",firstName:"\u041c\u0438\u0445\u0430\u0438\u043b",lastName:"\u0421\u0438\u0434\u043e\u0440\u043e\u0432",role:"user",avatar:"",isEmailVerified:!1,is2FAEnabled:!1,is_active:!1,is_verified:!1,is_superuser:!1,lastActivity:new Date(Date.now()-6048e5).toISOString(),apiCallsCount:12,analysesCount:1,totalCosts:.89,registrationSource:"website",subscription:{plan:"Free",status:"active",expiresAt:new Date(Date.now()+31536e6).toISOString(),autoRenew:!1},preferences:{language:"ru",theme:"system",notifications:{email:!1,push:!1}},created_at:"2024-06-01T00:00:00Z",updated_at:(new Date).toISOString(),lastLoginAt:new Date(Date.now()-6048e5).toISOString()}],S=e=>{let{className:s=""}=e;const[a,o]=(0,t.useState)([]),[S,C]=(0,t.useState)({}),[M,P]=(0,t.useState)("created_at"),[D,U]=(0,t.useState)("desc"),[T,$]=(0,t.useState)(1),[I,_]=(0,t.useState)(10),[F,L]=(0,t.useState)([]),[R,E]=(0,t.useState)(!1),[q,z]=(0,t.useState)(!1);(0,t.useEffect)(()=>{V()},[T,I]);const V=async()=>{z(!0);try{const e=await w.Z.getUsers(T,I);e.success?o(e.data.users):o(k)}catch(e){o(k)}finally{z(!1)}},O=(0,t.useMemo)(()=>{let e=[...a];if(S.search){const s=S.search.toLowerCase();e=e.filter(e=>e.full_name.toLowerCase().includes(s)||e.email.toLowerCase().includes(s))}return S.role&&(e=e.filter(e=>e.role===S.role)),S.status&&(e=e.filter(e=>"active"===S.status?e.is_active:"banned"!==S.status||!e.is_active)),S.plan&&(e=e.filter(e=>e.subscription.plan===S.plan)),e.sort((e,s)=>{let a=e[M],t=s[M];return void 0===a&&(a=""),void 0===t&&(t=""),"string"===typeof a&&(a=a.toLowerCase()),"string"===typeof t&&(t=t.toLowerCase()),a<t?"asc"===D?-1:1:a>t?"asc"===D?1:-1:0}),e},[a,S,M,D]),B={page:T,pageSize:I,total:O.length,totalPages:Math.ceil(O.length/I)},Z=O.slice((T-1)*I,T*I),H=e=>{M===e?U("asc"===D?"desc":"asc"):(P(e),U("asc"))},G=e=>{const s=new Date(e),a=(new Date).getTime()-s.getTime(),t=Math.floor(a/864e5),l=Math.floor(a/36e5),i=Math.floor(a/6e4);return i<60?`${i}\u043c \u043d\u0430\u0437\u0430\u0434`:l<24?`${l}\u0447 \u043d\u0430\u0437\u0430\u0434`:1===t?"\u0412\u0447\u0435\u0440\u0430":t<7?`${t}\u0434 \u043d\u0430\u0437\u0430\u0434`:s.toLocaleDateString("ru-RU")},Q=e=>"admin"===e?l.A:i.A,J=e=>{switch(e){case"admin":return"text-yellow-500";case"user":return"text-blue-500";default:return"text-gray-500"}},W=e=>e.is_active?"Premium"===e.subscription.plan||"Professional"===e.subscription.plan?(0,A.jsx)("span",{className:"px-2 py-1 text-xs bg-purple-500/20 text-purple-400 rounded-full",children:e.subscription.plan}):(0,A.jsx)("span",{className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded-full",children:"Active"}):(0,A.jsx)("span",{className:"px-2 py-1 text-xs bg-red-500/20 text-red-400 rounded-full",children:"Banned"});return(0,A.jsxs)("div",{className:`space-y-6 ${s}`,children:[(0,A.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[(0,A.jsx)(r.A,{className:"h-8 w-8"}),(0,A.jsx)("span",{children:"User Management"})]}),(0,A.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage users, roles, and permissions"})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,A.jsxs)(f.$,{variant:"outline",size:"sm",children:[(0,A.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,A.jsxs)(f.$,{size:"sm",children:[(0,A.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]}),(0,A.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,A.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[(0,A.jsxs)("div",{className:"flex-1 relative",children:[(0,A.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,A.jsx)(N.p,{placeholder:"Search users by name or email...",value:S.search||"",onChange:e=>C(s=>({...s,search:e.target.value})),className:"pl-10 bg-gray-900 border-gray-600"})]}),(0,A.jsxs)(f.$,{variant:"outline",onClick:()=>E(!R),className:"flex items-center space-x-2",children:[(0,A.jsx)(m,{className:"h-4 w-4"}),(0,A.jsx)("span",{children:"Filters"})]})]}),R&&(0,A.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),(0,A.jsxs)("select",{value:S.role||"",onChange:e=>C(s=>({...s,role:e.target.value||void 0})),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[(0,A.jsx)("option",{value:"",children:"All Roles"}),(0,A.jsx)("option",{value:"admin",children:"Admin"}),(0,A.jsx)("option",{value:"user",children:"User"})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,A.jsxs)("select",{value:S.status||"",onChange:e=>C(s=>({...s,status:e.target.value||void 0})),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[(0,A.jsx)("option",{value:"",children:"All Status"}),(0,A.jsx)("option",{value:"active",children:"Active"}),(0,A.jsx)("option",{value:"banned",children:"Banned"})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Plan"}),(0,A.jsxs)("select",{value:S.plan||"",onChange:e=>C(s=>({...s,plan:e.target.value||void 0})),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[(0,A.jsx)("option",{value:"",children:"All Plans"}),(0,A.jsx)("option",{value:"Free",children:"Free"}),(0,A.jsx)("option",{value:"Premium",children:"Premium"}),(0,A.jsx)("option",{value:"Professional",children:"Professional"})]})]})]})})]}),F.length>0&&(0,A.jsx)("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("span",{className:"text-blue-400",children:[F.length," user(s) selected"]}),(0,A.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:"Ban Selected"}),(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:"Upgrade Selected"}),(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:"Export Selected"})]})]})}),(0,A.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden",children:[(0,A.jsx)("div",{className:"overflow-x-auto",children:(0,A.jsxs)("table",{className:"w-full",children:[(0,A.jsx)("thead",{className:"bg-gray-900 border-b border-gray-700",children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{className:"p-4 text-left",children:(0,A.jsx)("input",{type:"checkbox",checked:F.length===Z.length&&Z.length>0,onChange:()=>{F.length===Z.length?L([]):L(Z.map(e=>Number(e.id)))},className:"rounded border-gray-600 bg-gray-700"})}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300 cursor-pointer hover:text-white",onClick:()=>H("full_name"),children:(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)("span",{children:"User"}),(0,A.jsx)(x,{className:"h-4 w-4"})]})}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300 cursor-pointer hover:text-white",onClick:()=>H("role"),children:(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)("span",{children:"Role"}),(0,A.jsx)(x,{className:"h-4 w-4"})]})}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300",children:"Activity"}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300",children:"Stats"}),(0,A.jsx)("th",{className:"p-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),(0,A.jsx)("tbody",{className:"divide-y divide-gray-700",children:Z.map(e=>{const s=Q(e.role);return(0,A.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,A.jsx)("td",{className:"p-4",children:(0,A.jsx)("input",{type:"checkbox",checked:F.includes(Number(e.id)),onChange:()=>{return s=Number(e.id),void L(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"rounded border-gray-600 bg-gray-700"})}),(0,A.jsx)("td",{className:"p-4",children:(0,A.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,A.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,A.jsxs)("span",{className:"text-white font-medium",children:[e.firstName[0],e.lastName[0]]})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"font-medium text-white",children:e.full_name}),(0,A.jsx)("p",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,A.jsx)("td",{className:"p-4",children:(0,A.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,A.jsx)(s,{className:`h-4 w-4 ${J(e.role)}`}),(0,A.jsx)("span",{className:"text-gray-300 capitalize",children:e.role})]})}),(0,A.jsx)("td",{className:"p-4",children:W(e)}),(0,A.jsx)("td",{className:"p-4",children:(0,A.jsxs)("div",{className:"text-sm",children:[(0,A.jsx)("p",{className:"text-gray-300",children:G(e.lastActivity)}),(0,A.jsxs)("p",{className:"text-gray-500",children:["Joined ",new Date(e.created_at).toLocaleDateString("ru-RU")]})]})}),(0,A.jsx)("td",{className:"p-4",children:(0,A.jsxs)("div",{className:"text-sm space-y-1",children:[(0,A.jsxs)("div",{className:"flex items-center space-x-1 text-gray-300",children:[(0,A.jsx)(h.A,{className:"h-3 w-3"}),(0,A.jsxs)("span",{children:[e.apiCallsCount," calls"]})]}),(0,A.jsxs)("div",{className:"flex items-center space-x-1 text-gray-300",children:[(0,A.jsx)(u.A,{className:"h-3 w-3"}),(0,A.jsxs)("span",{children:["$",e.totalCosts.toFixed(2)]})]})]})}),(0,A.jsx)("td",{className:"p-4",children:(0,A.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:(0,A.jsx)(g.A,{className:"h-4 w-4"})}),(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:(0,A.jsx)(p,{className:"h-4 w-4"})}),(0,A.jsx)(f.$,{size:"sm",variant:"outline",children:e.is_active?(0,A.jsx)(j,{className:"h-4 w-4"}):(0,A.jsx)(y.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),(0,A.jsx)("div",{className:"bg-gray-900 px-4 py-3 border-t border-gray-700",children:(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",(T-1)*I+1," to ",Math.min(T*I,B.total)," of ",B.total," users"]}),(0,A.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,A.jsxs)(f.$,{size:"sm",variant:"outline",onClick:()=>$(e=>Math.max(1,e-1)),disabled:1===T,children:[(0,A.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,A.jsxs)("span",{className:"text-sm text-gray-400",children:["Page ",T," of ",B.totalPages]}),(0,A.jsxs)(f.$,{size:"sm",variant:"outline",onClick:()=>$(e=>Math.min(B.totalPages,e+1)),disabled:T===B.totalPages,children:["Next",(0,A.jsx)(b.A,{className:"h-4 w-4 ml-1"})]})]})]})})]})]})},C=S},1850:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},1931:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(9950),l=a(8429),i=a(7557),r=(a(7763),a(2195)),n=a(9975),c=a(9830),d=a(1464),o=a(9318),m=a(6479),x=a(772),h=a(5536),u=a(1850),g=a(1064),p=a(1946),j=a(7453),y=a(5332),v=a(4414);const b=e=>{let{children:s,activeTab:a,onTabChange:l}=e;const{user:b,logout:f}=(0,i.A)(),[N,w]=(0,t.useState)(!1),[A,k]=(0,t.useState)(!1),S=[{id:"dashboard",name:"Dashboard",icon:r.A,description:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"},{id:"users",name:"Users",icon:n.A,description:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"},{id:"ai",name:"AI",icon:c.A,description:"AI \u043c\u043e\u0434\u0435\u043b\u0438 \u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b"},{id:"backend",name:"Backend",icon:d.A,description:"Backend \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0438 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"},{id:"system",name:"System",icon:o.A,description:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}];return(0,v.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,v.jsxs)("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3 flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsx)("button",{onClick:()=>w(!N),className:"lg:hidden p-2 rounded-md hover:bg-gray-700 transition-colors",children:N?(0,v.jsx)(m.A,{className:"h-5 w-5"}):(0,v.jsx)(x.A,{className:"h-5 w-5"})}),(0,v.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,v.jsx)(h.A,{className:"h-8 w-8 text-yellow-500"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"text-xl font-bold text-white",children:"DevAssist Pro Admin"}),(0,v.jsx)("p",{className:"text-xs text-gray-400 hidden sm:block",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c"})]})]})]}),(0,v.jsx)("nav",{className:"hidden lg:flex items-center space-x-1",children:S.map(e=>{const s=e.icon,t=a===e.id;return(0,v.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 "+(t?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700"),title:e.description,children:[(0,v.jsx)(s,{className:"h-5 w-5"}),(0,v.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})}),(0,v.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,v.jsxs)("button",{className:"relative p-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,v.jsx)(u.A,{className:"h-5 w-5"}),(0,v.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsxs)("button",{onClick:()=>k(!A),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,v.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,v.jsx)(g.A,{className:"h-4 w-4 text-white"})}),(0,v.jsxs)("div",{className:"text-left hidden sm:block",children:[(0,v.jsxs)("p",{className:"text-sm font-medium text-white",children:[null===b||void 0===b?void 0:b.firstName," ",null===b||void 0===b?void 0:b.lastName]}),(0,v.jsxs)("p",{className:"text-xs text-gray-400 flex items-center",children:[(0,v.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Admin"]})]}),(0,v.jsx)(j.A,{className:"h-4 w-4 text-gray-400"})]}),A&&(0,v.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50",children:(0,v.jsxs)("div",{className:"py-2",children:[(0,v.jsxs)("div",{className:"px-4 py-2 border-b border-gray-700",children:[(0,v.jsx)("p",{className:"text-sm font-medium text-white",children:null===b||void 0===b?void 0:b.email}),(0,v.jsx)("p",{className:"text-xs text-gray-400",children:"Administrator"})]}),(0,v.jsxs)("button",{onClick:()=>{k(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:text-white hover:bg-gray-700 flex items-center space-x-2",children:[(0,v.jsx)(g.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]}),(0,v.jsxs)("button",{onClick:()=>{k(!1),l("system")},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:text-white hover:bg-gray-700 flex items-center space-x-2",children:[(0,v.jsx)(o.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,v.jsx)("div",{className:"border-t border-gray-700 mt-2 pt-2",children:(0,v.jsxs)("button",{onClick:async()=>{try{await f()}catch(e){}},className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:text-red-300 hover:bg-gray-700 flex items-center space-x-2",children:[(0,v.jsx)(y.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})]})})]})})]})]})]}),N&&(0,v.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>w(!1)}),(0,v.jsx)("aside",{className:"fixed left-0 top-0 bottom-0 w-64 bg-gray-800 border-r border-gray-700 z-50 transform transition-transform duration-300 lg:hidden "+(N?"translate-x-0":"-translate-x-full"),children:(0,v.jsxs)("div",{className:"p-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,v.jsx)(h.A,{className:"h-8 w-8 text-yellow-500"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-lg font-bold text-white",children:"Admin Panel"}),(0,v.jsx)("p",{className:"text-xs text-gray-400",children:"DevAssist Pro"})]})]}),(0,v.jsx)("nav",{className:"space-y-2",children:S.map(e=>{const s=e.icon,t=a===e.id;return(0,v.jsxs)("button",{onClick:()=>{l(e.id),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 "+(t?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[(0,v.jsx)(s,{className:"h-5 w-5"}),(0,v.jsxs)("div",{className:"text-left",children:[(0,v.jsx)("p",{className:"font-medium",children:e.name}),(0,v.jsx)("p",{className:"text-xs opacity-75",children:e.description})]})]},e.id)})})]})}),(0,v.jsx)("main",{className:"flex-1",children:(0,v.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s})}),A&&(0,v.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>k(!1)})]})};var f=a(7295),N=a(101),w=a(3097),A=a(9683),k=a(9565);const S=()=>{var e;const{user:s,isAuthenticated:a,isLoading:r}=(0,i.A)(),[n,c]=(0,t.useState)("dashboard"),d=t.useMemo(()=>{try{const e=localStorage.getItem("devassist_user"),s=localStorage.getItem("devassist_simple_token"),a=localStorage.getItem("devassist_token_expires_at");if(console.log("[AdminPage] Direct localStorage check:",{hasUser:!!e,hasToken:!!s,hasExpires:!!a}),e&&s&&a){const s=JSON.parse(e),t=parseInt(a)>Date.now();if(console.log("[AdminPage] Parsed data:",{userEmail:s.email,userRole:s.role,tokenValid:t}),t&&"admin"===s.role)return{isValid:!0,user:s,isAdmin:!0}}return{isValid:!1,user:null,isAdmin:!1}}catch(e){return console.error("[AdminPage] Error in direct auth check:",e),{isValid:!1,user:null,isAdmin:!1}}},[]),o=s||d.user,m=a||d.isValid,x="admin"===(null===s||void 0===s?void 0:s.role)||d.isAdmin;if(console.log("[AdminPage] Final auth check:",{contextUser:null===s||void 0===s?void 0:s.email,contextAuth:a,contextLoading:r,directUser:null===(e=d.user)||void 0===e?void 0:e.email,directAuth:d.isValid,directAdmin:d.isAdmin,effectiveUser:null===o||void 0===o?void 0:o.email,effectiveAuth:m,effectiveAdmin:x}),m&&o&&x){console.log("[AdminPage] \u2705 Access granted to admin user:",o.email);const e=()=>{switch(n){case"dashboard":default:return(0,v.jsx)(f.default,{});case"users":return(0,v.jsx)(N.default,{});case"ai":return(0,v.jsx)(w.default,{});case"backend":return(0,v.jsx)(k.default,{});case"system":return(0,v.jsx)(A.default,{})}};return(0,v.jsx)(b,{activeTab:n,onTabChange:c,children:e()})}return console.log("[AdminPage] \u274c Access denied, redirecting to /auth"),(0,v.jsx)(l.C5,{to:"/auth",replace:!0})}},2607:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5391:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6890:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7255:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7295:(e,s,a)=>{a.r(s),a.d(s,{AdminDashboard:()=>A,default:()=>k});var t=a(9950),l=a(8215),i=a(6890),r=a(5391),n=a(5492),c=a(9502),d=a(9842),o=a(1900),m=a(6987),x=a(9975),h=a(8406),u=a(4215);const g=(0,a(9655).A)("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);var p=a(1946),j=a(7737),y=a(1850),v=a(7838),b=a(4885),f=a(8299),N=a(4414);const w={users:{total:0,change24h:0,active:0,premium:0,banned:0},api:{calls:0,change1h:0,successRate:0,avgResponseTime:0},ai:{costs:0,change24h:0,tokenUsage:0,providerStatus:{}},analyses:{total:0,change24h:0,successful:0,failed:0},errors:{count:0,change24h:0,critical:0,warnings:0},uptime:{percentage:0,days:0,lastDowntime:null}},A=e=>{var s,a,A,k,S,C,M,P,D,U,T,$,I,_,F,L,R,E;let{className:q=""}=e;const[z,V]=(0,t.useState)(w),[O,B]=(0,t.useState)([]),[Z,H]=(0,t.useState)(!1),[G,Q]=(0,t.useState)(!0),[J,W]=(0,t.useState)(null);(0,t.useEffect)(()=>{K()},[]);const K=async()=>{try{W(null);const[e,s]=await Promise.all([f.Z.getSystemMetrics(),f.Z.getSystemAlerts()]),a=e.data,t=s.data;V(a),B(t)}catch(J){W(J instanceof Error?J.message:"Failed to load data"),V(w),B([])}finally{Q(!1)}},X=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return void 0===e||null===e?"0":s>0?e.toFixed(s):e.toLocaleString()},Y=e=>{let{title:s,value:a,change:n,changeLabel:c,icon:d,color:o,subtitle:m}=e;const x=void 0!==n?(e=>0===e?{icon:l.A,color:"text-gray-400",text:"0"}:e>0?{icon:i.A,color:"text-green-500",text:`+${e}`}:{icon:r.A,color:"text-red-500",text:`${e}`})(n):null;return(0,N.jsx)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 hover:border-gray-600 transition-colors",children:(0,N.jsx)("div",{className:"flex items-start justify-between",children:(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,N.jsx)("div",{className:`p-2 rounded-lg ${o}`,children:(0,N.jsx)(d,{className:"h-5 w-5 text-white"})}),(0,N.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:s})]}),(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("p",{className:"text-2xl font-bold text-white",children:a}),m&&(0,N.jsx)("p",{className:"text-sm text-gray-500",children:m})]}),x&&(0,N.jsxs)("div",{className:`flex items-center space-x-1 ${x.color}`,children:[t.createElement(x.icon,{className:"h-4 w-4"}),(0,N.jsx)("span",{className:"text-sm font-medium",children:x.text}),c&&(0,N.jsx)("span",{className:"text-sm text-gray-500",children:c})]})]})})})},ee=e=>{let{alert:s}=e;const a={low:n.A,medium:c.A,high:d.A,critical:o.A}[s.severity],t=Math.floor((Date.now()-new Date(s.timestamp).getTime())/6e4);return(0,N.jsx)("div",{className:`p-4 border-l-4 ${s.acknowledged?"bg-gray-800/50 border-gray-600":"bg-gray-800 border-"+s.severity==="critical"?"red":"high"===s.severity?"orange":"medium"===s.severity?"yellow":"blue"}-500`,children:(0,N.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,N.jsx)("div",{className:`p-1 rounded-full ${{low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"}[s.severity]}`,children:(0,N.jsx)(a,{className:"h-4 w-4 text-white"})}),(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("h4",{className:"text-sm font-medium "+(s.acknowledged?"text-gray-400":"text-white"),children:s.title}),(0,N.jsxs)("span",{className:"text-xs text-gray-500",children:[t,"m ago"]})]}),(0,N.jsx)("p",{className:"text-sm mt-1 "+(s.acknowledged?"text-gray-500":"text-gray-300"),children:s.message}),!s.acknowledged&&(0,N.jsx)("button",{onClick:()=>{return e=s.id,void B(s=>s.map(s=>s.id===e?{...s,acknowledged:!0,acknowledgedAt:(new Date).toISOString()}:s));var e},className:"text-xs text-blue-400 hover:text-blue-300 mt-2",children:"Acknowledge"})]})]})})};return G?(0,N.jsx)("div",{className:`space-y-6 ${q}`,children:(0,N.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)(m.A,{className:"h-8 w-8 text-blue-500 animate-spin mx-auto mb-4"}),(0,N.jsx)("p",{className:"text-gray-400",children:"Loading real admin data..."})]})})}):(0,N.jsxs)("div",{className:`space-y-6 ${q}`,children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"text-2xl font-bold text-white",children:"System Overview"}),(0,N.jsx)("p",{className:"text-gray-400",children:"Real-time system metrics from database"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[J&&(0,N.jsxs)("div",{className:"text-red-400 text-sm",children:[(0,N.jsx)(d.A,{className:"h-4 w-4 inline mr-1"}),J]}),(0,N.jsxs)(b.$,{onClick:async()=>{H(!0);try{await K()}catch(J){}finally{H(!1)}},disabled:Z,className:"flex items-center space-x-2",variant:"outline",children:[(0,N.jsx)(m.A,{className:"h-4 w-4 "+(Z?"animate-spin":"")}),(0,N.jsx)("span",{children:"Refresh"})]})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,N.jsx)(Y,{title:"Users",value:X(null===(s=z.users)||void 0===s?void 0:s.total),change:null===(a=z.users)||void 0===a?void 0:a.change24h,changeLabel:"24h",icon:x.A,color:"bg-blue-600",subtitle:`${X(null===(A=z.users)||void 0===A?void 0:A.active)} active`}),(0,N.jsx)(Y,{title:"API Calls",value:X(null===(k=z.api)||void 0===k?void 0:k.calls),change:null===(S=z.api)||void 0===S?void 0:S.change1h,changeLabel:"1h",icon:h.A,color:"bg-green-600",subtitle:`${X(null===(C=z.api)||void 0===C?void 0:C.successRate,1)}% success rate`}),(0,N.jsx)(Y,{title:"AI Costs",value:(te=null===(M=z.ai)||void 0===M?void 0:M.costs,void 0===te||null===te?"$0.00":`$${te.toFixed(2)}`),change:null===(P=z.ai)||void 0===P?void 0:P.change24h,changeLabel:"24h",icon:u.A,color:"bg-purple-600",subtitle:`${X(((null===(D=z.ai)||void 0===D?void 0:D.tokenUsage)||0)/1e6,1)}M tokens`}),(0,N.jsx)(Y,{title:"Analyses",value:X(null===(U=z.analyses)||void 0===U?void 0:U.total),change:null===(T=z.analyses)||void 0===T?void 0:T.change24h,changeLabel:"24h",icon:g,color:"bg-indigo-600",subtitle:(se=null===($=z.analyses)||void 0===$?void 0:$.successful,ae=null===(I=z.analyses)||void 0===I?void 0:I.total,se&&ae&&0!==ae?`${(se/ae*100).toFixed(1)}%`:"0%")+" success"}),(0,N.jsx)(Y,{title:"Errors",value:X(null===(_=z.errors)||void 0===_?void 0:_.count),change:null===(F=z.errors)||void 0===F?void 0:F.change24h,changeLabel:"24h",icon:d.A,color:"bg-red-600",subtitle:`${X(null===(L=z.errors)||void 0===L?void 0:L.critical)} critical`}),(0,N.jsx)(Y,{title:"Uptime",value:`${X(null===(R=z.uptime)||void 0===R?void 0:R.percentage,1)}%`,icon:p.A,color:"bg-green-600",subtitle:`${X(null===(E=z.uptime)||void 0===E?void 0:E.days)} days`})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,N.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-white",children:"API Usage"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,N.jsx)(j.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Last 24 hours"})]})]}),(0,N.jsx)("div",{className:"h-48 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)(h.A,{className:"h-12 w-12 text-gray-600 mx-auto mb-2"}),(0,N.jsx)("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]}),(0,N.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-white",children:"User Activity"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,N.jsx)(x.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Last 7 days"})]})]}),(0,N.jsx)("div",{className:"h-48 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)(x.A,{className:"h-12 w-12 text-gray-600 mx-auto mb-2"}),(0,N.jsx)("p",{className:"text-gray-500",children:"Chart coming soon"})]})})]})]}),(0,N.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg",children:[(0,N.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,N.jsx)(y.A,{className:"h-5 w-5 text-yellow-500"}),(0,N.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Alerts"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsxs)("span",{className:"text-sm text-gray-400",children:[O.filter(e=>!e.acknowledged).length," unacknowledged"]}),(0,N.jsxs)(b.$,{size:"sm",variant:"outline",children:[(0,N.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"View All"]})]})]})}),(0,N.jsx)("div",{className:"divide-y divide-gray-700",children:O.length>0?O.map(e=>(0,N.jsx)(ee,{alert:e},e.id)):(0,N.jsxs)("div",{className:"p-8 text-center",children:[(0,N.jsx)(n.A,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),(0,N.jsx)("p",{className:"text-gray-400",children:"No recent alerts"})]})})]})]});var se,ae,te},k=A},9126:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(9655).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9683:(e,s,a)=>{a.r(s),a.d(s,{SystemSettings:()=>j,default:()=>y});var t=a(9950),l=a(9126),i=a(1946),r=a(7637);const n=(0,a(9655).A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var c=a(9318),d=a(5492),o=a(1900),m=a(6987),x=a(1742),h=a(4885),u=a(8249),g=a(4414);const p={general:{siteName:"DevAssist Pro",siteUrl:"https://devassist.pro",supportEmail:"support@devassist.pro",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0},ai:{defaultModel:"claude-3-5-sonnet",maxTokensPerRequest:4e3,maxRequestsPerUser:100,costAlertThreshold:80,providerPriority:["openai","anthropic","google"]},security:{sessionTimeout:3600,maxLoginAttempts:5,requireTwoFactor:!1,allowedIPs:[],passwordMinLength:8},features:{kpAnalyzer:!0,documentUpload:!0,realTimeUpdates:!0,analytics:!0,export:!0},limits:{maxFileSize:10,maxFilesPerUser:50,maxAnalysesPerDay:20,storageQuota:1e3}},j=e=>{let{className:s=""}=e;const[a,j]=(0,t.useState)(p),[y,v]=(0,t.useState)("general"),[b,f]=(0,t.useState)(!1),[N,w]=(0,t.useState)("idle"),A=[{id:"general",name:"General",icon:l.A,description:"Basic site configuration"},{id:"ai",name:"AI Models",icon:Zap,description:"AI provider settings"},{id:"security",name:"Security",icon:i.A,description:"Security and authentication"},{id:"features",name:"Features",icon:r.A,description:"Feature toggles"},{id:"limits",name:"Limits",icon:n,description:"Usage limits and quotas"}],k=e=>{let{title:s,description:a,children:t}=e;return(0,g.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white",children:s}),a&&(0,g.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:a})]}),t]})},S=e=>{let{label:s,description:a,checked:t,onChange:l}=e;return(0,g.jsxs)("div",{className:"flex items-start justify-between py-3",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{className:"text-sm font-medium text-white",children:s}),a&&(0,g.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:a})]}),(0,g.jsx)("button",{onClick:()=>l(!t),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(t?"bg-blue-600":"bg-gray-600"),children:(0,g.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(t?"translate-x-6":"translate-x-1")})})]})},C=()=>(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(k,{title:"Site Configuration",description:"Basic site information and settings",children:(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Site Name"}),(0,g.jsx)(u.p,{value:a.general.siteName,onChange:e=>j(s=>({...s,general:{...s.general,siteName:e.target.value}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Site URL"}),(0,g.jsx)(u.p,{value:a.general.siteUrl,onChange:e=>j(s=>({...s,general:{...s.general,siteUrl:e.target.value}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Support Email"}),(0,g.jsx)(u.p,{type:"email",value:a.general.supportEmail,onChange:e=>j(s=>({...s,general:{...s.general,supportEmail:e.target.value}})),className:"bg-gray-900 border-gray-600"})]})]})}),(0,g.jsx)(k,{title:"Registration & Access",description:"Control user registration and access",children:(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(S,{label:"Maintenance Mode",description:"Temporarily disable access to the site",checked:a.general.maintenanceMode,onChange:e=>j(s=>({...s,general:{...s.general,maintenanceMode:e}}))}),(0,g.jsx)(S,{label:"User Registration",description:"Allow new users to register accounts",checked:a.general.registrationEnabled,onChange:e=>j(s=>({...s,general:{...s.general,registrationEnabled:e}}))}),(0,g.jsx)(S,{label:"Email Verification Required",description:"Require email verification for new accounts",checked:a.general.emailVerificationRequired,onChange:e=>j(s=>({...s,general:{...s.general,emailVerificationRequired:e}}))})]})})]});return(0,g.jsxs)("div",{className:`space-y-6 ${s}`,children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[(0,g.jsx)(c.A,{className:"h-8 w-8"}),(0,g.jsx)("span",{children:"System Settings"})]}),(0,g.jsx)("p",{className:"text-gray-400 mt-1",children:"Configure system behavior and features"})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:["success"===N&&(0,g.jsxs)("div",{className:"flex items-center space-x-2 text-green-400",children:[(0,g.jsx)(d.A,{className:"h-4 w-4"}),(0,g.jsx)("span",{className:"text-sm",children:"Settings saved"})]}),"error"===N&&(0,g.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,g.jsx)(o.A,{className:"h-4 w-4"}),(0,g.jsx)("span",{className:"text-sm",children:"Save failed"})]}),(0,g.jsxs)(h.$,{onClick:async()=>{f(!0),w("idle");try{await new Promise(e=>setTimeout(e,1e3)),w("success"),setTimeout(()=>w("idle"),3e3)}catch(e){w("error")}finally{f(!1)}},disabled:b,className:"flex items-center space-x-2",children:[b?(0,g.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,g.jsx)(x.A,{className:"h-4 w-4"}),(0,g.jsx)("span",{children:b?"Saving...":"Save Changes"})]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,g.jsx)("div",{className:"lg:w-64 bg-gray-800 border border-gray-700 rounded-lg p-4",children:(0,g.jsx)("nav",{className:"space-y-2",children:A.map(e=>{const s=e.icon,a=y===e.id;return(0,g.jsxs)("button",{onClick:()=>v(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 text-left "+(a?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[(0,g.jsx)(s,{className:"h-5 w-5"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-medium",children:e.name}),(0,g.jsx)("p",{className:"text-xs opacity-75",children:e.description})]})]},e.id)})})}),(0,g.jsx)("div",{className:"flex-1",children:(()=>{switch(y){case"general":default:return C();case"ai":return(0,g.jsx)("div",{className:"space-y-6",children:(0,g.jsx)(k,{title:"AI Model Configuration",description:"Default AI model and usage settings",children:(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Model"}),(0,g.jsxs)("select",{value:a.ai.defaultModel,onChange:e=>j(s=>({...s,ai:{...s.ai,defaultModel:e.target.value}})),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[(0,g.jsx)("option",{value:"claude-3-5-sonnet",children:"Claude 3.5 Sonnet"}),(0,g.jsx)("option",{value:"gpt-4o",children:"GPT-4o"}),(0,g.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,g.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Tokens per Request"}),(0,g.jsx)(u.p,{type:"number",value:a.ai.maxTokensPerRequest,onChange:e=>j(s=>({...s,ai:{...s.ai,maxTokensPerRequest:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Requests per User (daily)"}),(0,g.jsx)(u.p,{type:"number",value:a.ai.maxRequestsPerUser,onChange:e=>j(s=>({...s,ai:{...s.ai,maxRequestsPerUser:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cost Alert Threshold (%)"}),(0,g.jsx)(u.p,{type:"number",min:"0",max:"100",value:a.ai.costAlertThreshold,onChange:e=>j(s=>({...s,ai:{...s.ai,costAlertThreshold:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]})]})})});case"security":return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(k,{title:"Authentication & Sessions",description:"Security and session management",children:(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Timeout (seconds)"}),(0,g.jsx)(u.p,{type:"number",value:a.security.sessionTimeout,onChange:e=>j(s=>({...s,security:{...s.security,sessionTimeout:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Login Attempts"}),(0,g.jsx)(u.p,{type:"number",value:a.security.maxLoginAttempts,onChange:e=>j(s=>({...s,security:{...s.security,maxLoginAttempts:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Password Length"}),(0,g.jsx)(u.p,{type:"number",min:"6",max:"50",value:a.security.passwordMinLength,onChange:e=>j(s=>({...s,security:{...s.security,passwordMinLength:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]})]})}),(0,g.jsx)(k,{title:"Advanced Security",description:"Additional security measures",children:(0,g.jsx)("div",{className:"space-y-2",children:(0,g.jsx)(S,{label:"Require Two-Factor Authentication",description:"Force all users to enable 2FA",checked:a.security.requireTwoFactor,onChange:e=>j(s=>({...s,security:{...s.security,requireTwoFactor:e}}))})})})]});case"features":return(0,g.jsx)("div",{className:"space-y-6",children:(0,g.jsx)(k,{title:"Feature Toggles",description:"Enable or disable application features",children:(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)(S,{label:"\u041a\u041f \u0410\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440",description:"Document analysis and comparison features",checked:a.features.kpAnalyzer,onChange:e=>j(s=>({...s,features:{...s.features,kpAnalyzer:e}}))}),(0,g.jsx)(S,{label:"Document Upload",description:"Allow users to upload documents",checked:a.features.documentUpload,onChange:e=>j(s=>({...s,features:{...s.features,documentUpload:e}}))}),(0,g.jsx)(S,{label:"Real-time Updates",description:"Enable WebSocket real-time features",checked:a.features.realTimeUpdates,onChange:e=>j(s=>({...s,features:{...s.features,realTimeUpdates:e}}))}),(0,g.jsx)(S,{label:"Analytics",description:"Track usage analytics and metrics",checked:a.features.analytics,onChange:e=>j(s=>({...s,features:{...s.features,analytics:e}}))}),(0,g.jsx)(S,{label:"Export Functions",description:"Allow data export to PDF/Excel",checked:a.features.export,onChange:e=>j(s=>({...s,features:{...s.features,export:e}}))})]})})});case"limits":return(0,g.jsx)("div",{className:"space-y-6",children:(0,g.jsx)(k,{title:"Usage Limits",description:"Control resource usage and quotas",children:(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max File Size (MB)"}),(0,g.jsx)(u.p,{type:"number",value:a.limits.maxFileSize,onChange:e=>j(s=>({...s,limits:{...s.limits,maxFileSize:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Files per User"}),(0,g.jsx)(u.p,{type:"number",value:a.limits.maxFilesPerUser,onChange:e=>j(s=>({...s,limits:{...s.limits,maxFilesPerUser:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Analyses per Day"}),(0,g.jsx)(u.p,{type:"number",value:a.limits.maxAnalysesPerDay,onChange:e=>j(s=>({...s,limits:{...s.limits,maxAnalysesPerDay:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Storage Quota per User (MB)"}),(0,g.jsx)(u.p,{type:"number",value:a.limits.storageQuota,onChange:e=>j(s=>({...s,limits:{...s.limits,storageQuota:parseInt(e.target.value)}})),className:"bg-gray-900 border-gray-600"})]})]})})})}})()})]})]})},y=j}}]);